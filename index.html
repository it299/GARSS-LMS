<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gharas | ุบุฑุณ</title>
    
    <!-- Libraries -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    
    <!-- Custom Config -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              gharas: { 500: '#22c55e', 600: '#16a34a' }
            },
            fontFamily: { sans: ['Cairo', 'sans-serif'] }
          }
        }
      }
    </script>
    <link rel="stylesheet" href="style.css">
<script type="importmap">
{
  "imports": {
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.30.0",
    "lucide-react": "https://aistudiocdn.com/lucide-react@^0.555.0"
  }
}
</script>
</head>
<body class="bg-[#F0F9FF]">

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg sticky-top bg-white/90 backdrop-blur-md shadow-sm border-bottom border-gray-100 py-3 mb-4">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center gap-2" href="#" onclick="navigateTo('home')">
                <div class="bg-green-500 p-2 rounded-xl text-white shadow-sm rotate-3">
                    <i data-lucide="leaf"></i>
                </div>
                <span class="fw-black text-2xl text-green-600 font-heading">ุบุฑุณ</span>
            </a>
            
            <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="mainNav">
                <ul class="navbar-nav mx-auto mb-2 mb-lg-0 fw-bold gap-3">
                    <li class="nav-item"><a class="nav-link nav-link-custom active" data-page="home" href="#">ุงูุฑุฆูุณูุฉ</a></li>
                    <li class="nav-item"><a class="nav-link nav-link-custom" data-page="courses" href="#">ุงูุฏูุฑุงุช</a></li>
                    <li class="nav-item auth-user" style="display:none"><a class="nav-link nav-link-custom text-blue-600" data-page="dashboard" href="#">ูุณุงุญุชู ุงูุชุนููููุฉ ๐</a></li>
                    <li class="nav-item admin-only" style="display:none"><a class="nav-link nav-link-custom text-purple-600" data-page="admin-dashboard" href="#">ููุญุฉ ุงูุฅุฏุงุฑุฉ โ๏ธ</a></li>
                </ul>

                <div class="d-flex align-items-center gap-3">
                    <!-- Guest View -->
                    <div class="auth-guest d-flex gap-2">
                        <button class="btn btn-outline-primary fw-bold rounded-xl px-4" data-bs-toggle="modal" data-bs-target="#loginModal">ุฏุฎูู</button>
                    </div>

                    <!-- User View -->
                    <div class="auth-user align-items-center gap-2" style="display:none">
                        <img id="userAvatarDisplay" src="" class="rounded-circle border border-2 border-white shadow-sm" width="40" height="40">
                        <div class="lh-1 text-end d-none d-lg-block">
                            <div id="userNameDisplay" class="fw-bold text-sm"></div>
                        </div>
                        <button id="logoutBtn" class="btn btn-light btn-sm rounded-circle w-10 h-10 d-flex align-items-center justify-center text-red-400 hover:bg-red-50">
                            <i data-lucide="log-out" width="16"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Page: HOME -->
    <div id="home" class="page-section active">
        <div class="container py-5 text-center">
            <div class="bg-white/60 p-5 p-md-5 rounded-[3rem] border-4 border-white shadow-lg inline-block w-100 max-w-4xl animate-float">
                <span class="bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-sm font-bold border border-yellow-200 mb-4 inline-block">ุฃููุงู ุจูู ูุง ุฃุจุทุงู ๐</span>
                <h1 class="display-3 fw-black font-heading mb-4 text-gray-800">ุงุบุฑุณ <span class="text-green-500">ุงููุนุฑูุฉ</span><br>ูุงุญุตุฏ ุงููุณุชูุจู ๐</h1>
                <p class="lead text-gray-500 font-bold mb-5">ููุตุฉ ุชูุงุนููุฉ ูุชุนููู ุงูุจุฑูุฌุฉ ูุงูุฐูุงุก ุงูุงุตุทูุงุนู ููุฃุทูุงู.</p>
                <button onclick="navigateTo('courses')" class="btn btn-success btn-lg px-5 py-3 rounded-pill fw-black shadow-pop-lg hover-bounce">ุงุจุฏุฃ ุงูุชุนูู ุงูุขู</button>
            </div>

            <!-- Features -->
            <div class="row mt-5 pt-5 g-4">
                <div class="col-md-4">
                    <div class="bg-white p-4 rounded-[2rem] border-4 border-blue-100 shadow-sm hover-bounce">
                        <div class="text-5xl mb-3">๐ฎ</div>
                        <h3 class="font-bold mb-2">ุชุนูู ุจุงููุนุจ</h3>
                        <p class="text-gray-500 text-sm font-bold">ุญูููุง ุงูุฏุฑูุณ ูุฃูุนุงุจ ููุชุนุฉ ูุชุญุฏูุงุช.</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="bg-white p-4 rounded-[2rem] border-4 border-purple-100 shadow-sm hover-bounce">
                        <div class="text-5xl mb-3">๐ค</div>
                        <h3 class="font-bold mb-2">ุฐูุงุก ุงุตุทูุงุนู</h3>
                        <p class="text-gray-500 text-sm font-bold">ูุชุนูู ุฃุญุฏุซ ุงูุชูููุงุช ุจุฃุณููุจ ูุจุณุท.</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="bg-white p-4 rounded-[2rem] border-4 border-orange-100 shadow-sm hover-bounce">
                        <div class="text-5xl mb-3">๐</div>
                        <h3 class="font-bold mb-2">ุฌูุงุฆุฒ ูุดูุงุฏุงุช</h3>
                        <p class="text-gray-500 text-sm font-bold">ุงุฌูุน ุงูููุงุท ูุงุญุตู ุนูู ุดูุงุฏุงุชู.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Page: COURSES CATALOG -->
    <div id="courses" class="page-section">
        <div class="container py-5">
            <h2 class="text-center font-heading font-black mb-5 text-3xl">ุฏูุฑุงุชูุง ุงููุชููุฒุฉ ๐</h2>
            <div id="coursesGrid" class="row">
                <!-- JS will inject courses here -->
            </div>
        </div>
    </div>

    <!-- Page: COURSE DETAIL -->
    <div id="course-detail" class="page-section">
        <div id="courseDetailContent">
            <!-- Dynamic Content -->
        </div>
    </div>

    <!-- Page: DASHBOARD (STUDENT) -->
    <div id="dashboard" class="page-section">
        <div class="container py-5">
            <div class="row mb-5" id="dashboardStats">
                <!-- Stats injected here -->
            </div>

            <h3 class="font-heading font-bold mb-4 flex items-center gap-2">
                <i data-lucide="book-open" class="text-green-500"></i>
                ุฏุฑูุณู ุงูุญุงููุฉ
            </h3>
            <div class="row" id="myCoursesList">
                <!-- Enrolled courses list -->
            </div>
        </div>
    </div>

    <!-- Page: CLASSROOM (LESSON VIEW) -->
    <div id="classroom" class="page-section bg-white min-vh-100">
        <div class="d-flex h-100 flex-column flex-lg-row">
            <!-- Sidebar -->
            <div class="w-100 w-lg-25 border-start bg-gray-50 p-4 h-auto h-lg-100 overflow-auto">
                <button onclick="navigateTo('dashboard')" class="btn btn-sm btn-outline-secondary mb-4 font-bold">ุฎุฑูุฌ <i data-lucide="arrow-right" width="14"></i></button>
                <h4 id="classroomTitle" class="font-black mb-4 font-heading">ุนููุงู ุงูุฏูุฑุฉ</h4>
                <div id="lessonList"></div>
            </div>
            <!-- Content -->
            <div class="flex-1 bg-black p-0 p-lg-4 d-flex align-items-center justify-content-center bg-dots">
                <div id="lessonContentArea" class="w-100 max-w-4xl"></div>
            </div>
        </div>
    </div>

    <!-- ADMIN PAGES WRAPPER -->
    <div id="admin-dashboard" class="page-section">
        <div class="d-flex min-vh-100 bg-gray-100">
            <!-- Sidebar -->
            <div class="bg-gray-900 text-white p-4 w-64 d-none d-md-block">
                <h4 class="font-bold mb-5 flex items-center gap-2"><i data-lucide="shield"></i> ููุญุฉ ุงูุฅุฏุงุฑุฉ</h4>
                <div class="d-grid gap-2">
                    <button onclick="navigateTo('admin-dashboard')" class="btn btn-dark text-end font-bold text-gray-300">ุงูุฑุฆูุณูุฉ</button>
                    <button onclick="navigateTo('admin-users')" class="btn btn-dark text-end font-bold text-gray-300">ุงููุณุชุฎุฏููู</button>
                    <button onclick="navigateTo('admin-courses')" class="btn btn-dark text-end font-bold text-gray-300">ุงูุฏูุฑุงุช</button>
                    <button id="adminLogoutBtn" class="btn btn-danger mt-5 font-bold">ุฎุฑูุฌ</button>
                </div>
            </div>
            
            <!-- Content -->
            <div class="flex-1 p-5 overflow-auto">
                <div class="bg-white p-8 rounded-3xl shadow-sm border border-gray-200 text-center">
                    <h2 class="font-black text-gray-800 mb-2">ูุฑุญุจุงู ุฃููุง ุงููุฏูุฑ ๐</h2>
                    <p class="text-gray-500">ุงุฎุชุฑ ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ ูุฅุฏุงุฑุฉ ุงูููุตุฉ.</p>
                </div>
            </div>
        </div>
    </div>

    <div id="admin-users" class="page-section">
        <div class="container py-5">
            <div class="d-flex justify-content-between mb-4">
                <h2 class="font-bold">ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู</h2>
                <button class="btn btn-primary font-bold rounded-xl" data-bs-toggle="modal" data-bs-target="#addUserModal">ูุณุชุฎุฏู ุฌุฏูุฏ +</button>
            </div>
            <div class="bg-white rounded-3xl shadow-sm border p-4">
                <table class="table">
                    <thead><tr class="text-gray-400 font-bold text-xs"><th>ุงูุงุณู</th><th>ุงูุฏูุฑ</th><th>ุฅุฌุฑุงุก</th></tr></thead>
                    <tbody id="adminUsersTable"></tbody>
                </table>
            </div>
            <button onclick="navigateTo('admin-dashboard')" class="btn btn-link mt-3 font-bold">ุนูุฏุฉ</button>
        </div>
    </div>

    <div id="admin-courses" class="page-section">
        <div class="container py-5">
            <div class="d-flex justify-content-between mb-4">
                <h2 class="font-bold">ุฅุฏุงุฑุฉ ุงูุฏูุฑุงุช</h2>
                <button class="btn btn-primary font-bold rounded-xl" data-bs-toggle="modal" data-bs-target="#addCourseModal">ุฏูุฑุฉ ุฌุฏูุฏุฉ +</button>
            </div>
            <div class="row" id="adminCoursesGrid"></div>
            <button onclick="navigateTo('admin-dashboard')" class="btn btn-link mt-3 font-bold">ุนูุฏุฉ</button>
        </div>
    </div>


    <!-- MODALS -->
    <!-- Login Modal -->
    <div class="modal fade" id="loginModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content rounded-[2rem] border-0 shadow-lg overflow-hidden">
                <div class="bg-blue-600 p-4 text-center">
                    <h4 class="text-white font-black m-0">ุชุณุฌูู ุงูุฏุฎูู</h4>
                </div>
                <div class="p-5 bg-white">
                    <form id="loginForm">
                        <div class="mb-3">
                            <label class="fw-bold text-sm mb-1">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
                            <input type="email" id="loginEmail" class="form-control rounded-xl p-3 bg-gray-50 border-0" value="student@gharas.sa" required>
                        </div>
                        <div class="mb-4">
                            <label class="fw-bold text-sm mb-1">ูููุฉ ุงููุฑูุฑ</label>
                            <input type="password" id="loginPassword" class="form-control rounded-xl p-3 bg-gray-50 border-0" value="123" required>
                        </div>
                        <button type="submit" class="btn btn-primary w-100 py-3 rounded-xl fw-bold shadow-pop-colored">ุฏุฎูู ๐</button>
                        <div class="text-center mt-3 text-xs text-gray-400">
                            ุฌุฑุจ: admin@gharas.sa / 123
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Add User Modal -->
    <div class="modal fade" id="addUserModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content rounded-3xl p-4">
                <h5 class="font-bold mb-4">ุฅุถุงูุฉ ูุณุชุฎุฏู</h5>
                <input id="userName" class="form-control mb-2 rounded-xl" placeholder="ุงูุงุณู">
                <input id="userEmail" class="form-control mb-2 rounded-xl" placeholder="ุงูุจุฑูุฏ">
                <input id="userPassword" class="form-control mb-2 rounded-xl" placeholder="ูููุฉ ุงููุฑูุฑ">
                <select id="userRole" class="form-select mb-3 rounded-xl">
                    <option value="student">ุทุงูุจ</option>
                    <option value="admin">ูุฏูุฑ</option>
                </select>
                <button id="saveUserBtn" class="btn btn-success rounded-xl font-bold">ุญูุธ</button>
            </div>
        </div>
    </div>

    <!-- Add Course Modal -->
    <div class="modal fade" id="addCourseModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content rounded-3xl p-4">
                <h5 class="font-bold mb-4">ุฅุถุงูุฉ ุฏูุฑุฉ</h5>
                <input id="courseTitle" class="form-control mb-2 rounded-xl" placeholder="ุนููุงู ุงูุฏูุฑุฉ">
                <input id="coursePrice" type="number" class="form-control mb-2 rounded-xl" placeholder="ุงูุณุนุฑ">
                <select id="courseCategory" class="form-select mb-3 rounded-xl">
                    <option value="ุจุฑูุฌุฉ">ุจุฑูุฌุฉ</option>
                    <option value="ุชุตููู">ุชุตููู</option>
                </select>
                <button id="saveCourseBtn" class="btn btn-success rounded-xl font-bold">ุญูุธ</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="main.js"></script>
</body>
</html>
